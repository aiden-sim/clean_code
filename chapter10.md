# 클래스

## 클래스 체계
- 변수 목록
  - 정적 공개 상수, 정적 비공개 변수, 비공개 인스턴스 변수, 공개 변수
- 공개 함수
- 비공개 함수

### 캡슐화
- 테스트를 위해 변수나 함수를 protected로 선언하거나 패키지 전체로 공개 해야 한다.
- 하지만 그 전에 비공개 상태를 유지할 온갖 방법을 강구한다.

## 클래스는 작아야 한다.
- 클래스는 작아야 한다.
  - 얼마나 작아야 할까? 클래스가 맡은 책임이다.
- 실제로 작명은 클래스 크기를 줄이는 첫번째 관문이다.
- 클래스 이름에 Processor, Manager, Super 등과 같이 애매한 단어가 있다면 클래스에다 여러 책임을 떠 안겼다는 증거다.
- 클래스 설명은 만일(if), 그리고(and), ~하며(or), 하지만(but)을 사용하지 않고 25단어 내외로 가능해야 한다.

### 단일 책임 원칙
- 변경할 이유를 파악하려 애쓰다 보면 코드를 추상화하기도 쉬워진다.
- SRP는 객체 지향 설계에서 더욱 중요한 개념이다.
- 왜 수많은 책임을 떠안은 클래스를 접하게 될까?
  - 대다수 "깨끗하고 체계적인 소프트웨어" 보다 "돌아가는 소프트웨어"에 초점을 맞춘다.
  - 그 다음 돌아가는 일이 끝나면 "깨끗하고 체계적인 소프트웨어" 라는 다음 관심사로 전환하지 않는다.
- 큰 클래스 몇 개가 아니라 작은 클래스 여럿으로 이뤄진 시스템이 더 바람직하다.
  - 작은 클래스는 각각 책임이 하나며, 변경할 이유가 하나이며, 다른 작은 클래스와 협력해 시스템에 필요한 동작을 수행한다.

### 응집도
- 클래스는 인스턴스 변수 수가 작아야 한다.
- 일반적으로 메소드가 클래스 인스턴스 변수를 더 많이 사용할수록 메소드와 클래스는 응집도가 더 크다.
  - 모든 인스턴스 변수를 메소드마다 하나씩 사용하는 클래스는 응집도가 가장 높다. 
- 응집도가 높다는 소리는 클래스에 속한 메소드와 변수가 서로 의존하며 논리적인 단위로 묶인다는 의미다.
- 특정 메소드만이 사용하는 인스턴스 변수가 많아진다면 이때는 십중팔구 새로운 클래스로 쪼개야 한다는 신호다.
  - 응집도가 높아지도록 변수와 메소드를 적절히 분리해 새로운 클래스 두세 개로 쪼개준다.

### 응집도를 유지하면 작은 클래스 여럿이 나온다.
- 큰 함수를 작은 함수 여럿으로 나누기만 해도 클래스 수가 많아진다.
- 큰 함수 일부를 작은 함수로 빼낸다 => 큰 함수의 정의된 변수 넷을 사용하고 있기 때문에 새 함수의 인수로 넘겨야 한다. => 큰 함수 변수 넷을 인스턴스 변수로 승격 시킨다. (인수가 필요 없어진다.) => 응집력을 잃는다.(몇몇 함수만 사용하는 인스턴스 변수가 점점 늘어나기 때문이다.) => 클래스로 쪼갠다.

## 변경한기 쉬운 클래스
- 클린 시스템은 클래스를 체계적으로 정리해 변경에 수반하는 위험을 낮춘다.
- ex)SQL 예제 -> SRP를 위반하기 떄문에 파생 클래스를 만들었다. 모든 파생 클래스가 공통으로 사용하는 비공개 메소드는 유틸클래스로 만들었다. (P.215)
- OCP란 확장에 개방적이고 수정에 폐쇄적이어야 한다.
  - 이상적인 시스템이라면 새 기능 추가 시 시스템을 확장할 뿐 기존 코드를 변경하지 않는다.

### 변경으로부터 격리
- 구상 클래스는 상세한 구현을 포함하며 추상 클래스는 개념만 포함한다고 배웠다.
- 상세한 구현에 의존하는 클라이언트 클래스는 구현이 바뀌면 위험에 빠진다.
  - 그래서 우리는 인터페이스와 추상 클래스를 사용하여 구현이 미치는 영향을 격리한다.
- 
- 결합도가 낮다는 소리는 각 시스템 요소가 다른 요소로부터, 또한 변경으로부터 잘 격리돼있다는 의미이다.  
  


## 배운 부분
- 응집도의 정의가 애매했는데 클래스 인스턴스 변수를 각 메소드에서 많이 사용할 수록 응집도가 더 크다.



